<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–≥–Ω–æ–∑ —Ü—ñ–Ω –Ω–∞ –Ω–µ—Ä—É—Ö–æ–º—ñ—Å—Ç—å</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .container { background: #f5f5f5; padding: 20px; border-radius: 10px; }
        .input-group { margin: 15px 0; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        button { background: #4CAF50; color: white; padding: 12px 24px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
        button:hover { background: #45a049; }
        .result { margin-top: 20px; padding: 15px; background: #e8f5e8; border-radius: 5px; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .loading { background: #fff3cd; color: #856404; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè† –ü—Ä–æ–≥–Ω–æ–∑ —Ü—ñ–Ω–∏ –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ –≤ –ö–∞–ª—ñ—Ñ–æ—Ä–Ω—ñ—ó</h1>
        <p>–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–æ–≥–Ω–æ–∑—É:</p>
        
        <div class="input-group">
            <label>–ú–µ–¥—ñ–∞–Ω–Ω–∏–π –¥–æ—Ö—ñ–¥ (MedInc):</label>
            <input type="number" id="medinc" value="3.87" step="0.1">
        </div>
        
        <div class="input-group">
            <label>–í—ñ–∫ –±—É–¥–∏–Ω–∫—É (—Ä–æ–∫–∏):</label>
            <input type="number" id="age" value="28.6" step="1">
        </div>
        
        <div class="input-group">
            <label>–°–µ—Ä–µ–¥–Ω—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫—ñ–º–Ω–∞—Ç:</label>
            <input type="number" id="rooms" value="5.43" step="0.1">
        </div>
        
        <div class="input-group">
            <label>–°–µ—Ä–µ–¥–Ω—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ø–∞–ª–µ–Ω—å:</label>
            <input type="number" id="bedrooms" value="1.10" step="0.1">
        </div>
        
        <div class="input-group">
            <label>–ù–∞—Å–µ–ª–µ–Ω–Ω—è:</label>
            <input type="number" id="population" value="1425" step="50">
        </div>
        
        <div class="input-group">
            <label>–°–µ—Ä–µ–¥–Ω—è –∑–∞–π–Ω—è—Ç—ñ—Å—Ç—å:</label>
            <input type="number" id="occupancy" value="3.10" step="0.1">
        </div>
        
        <div class="input-group">
            <label>–®–∏—Ä–æ—Ç–∞:</label>
            <input type="number" id="latitude" value="35.63" step="0.01">
        </div>
        
        <div class="input-group">
            <label>–î–æ–≤–≥–æ—Ç–∞:</label>
            <input type="number" id="longitude" value="-119.57" step="0.01">
        </div>
        
        <button onclick="predictPrice()">üìà –ü—Ä–æ–≥–Ω–æ–∑—É–≤–∞—Ç–∏ —Ü—ñ–Ω—É</button>
        
        <div id="status" class="status">–°—Ç–∞—Ç—É—Å: –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è...</div>
        
        <div id="result" class="result" style="display:none;">
            <h3>üí∞ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≥–Ω–æ–∑—É:</h3>
            <p id="prediction"></p>
        </div>
    </div>

    <script>
        let model = null;
        
        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ
        async function loadModel() {
            const status = document.getElementById('status');
            status.className = 'status loading';
            status.textContent = '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ...';
            
            try {
                model = await tf.loadLayersModel('model/tfjs_model/model.json');
                status.className = 'status success';
                status.textContent = '‚úÖ –ú–æ–¥–µ–ª—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞!';
                console.log('–ú–æ–¥–µ–ª—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ —É—Å–ø—ñ—à–Ω–æ');
            } catch (error) {
                status.className = 'status error';
                status.textContent = '‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: ' + error.message;
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
            }
        }
        
        // –§—É–Ω–∫—Ü—ñ—è –ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è
        async function predictPrice() {
            if (!model) {
                alert('–ú–æ–¥–µ–ª—å —â–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è. –ó–∞—á–µ–∫–∞–π—Ç–µ...');
                return;
            }
            
            const status = document.getElementById('status');
            status.className = 'status loading';
            status.textContent = '–ü—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è...';
            
            try {
                // –ó–±–∏—Ä–∞—î–º–æ –¥–∞–Ω—ñ –∑ —Ñ–æ—Ä–º–∏
                const features = [
                    parseFloat(document.getElementById('medinc').value),
                    parseFloat(document.getElementById('age').value),
                    parseFloat(document.getElementById('rooms').value),
                    parseFloat(document.getElementById('bedrooms').value),
                    parseFloat(document.getElementById('population').value),
                    parseFloat(document.getElementById('occupancy').value),
                    parseFloat(document.getElementById('latitude').value),
                    parseFloat(document.getElementById('longitude').value)
                ];
                
                // –°—Ç–≤–æ—Ä—é—î–º–æ —Ç–µ–Ω–∑–æ—Ä
                const inputTensor = tf.tensor2d([features]);
                
                // –†–æ–±–∏–º–æ –ø—Ä–æ–≥–Ω–æ–∑
                const prediction = model.predict(inputTensor);
                const predictedValue = (await prediction.data())[0];
                
                // –ü–æ–∫–∞–∑—É—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                document.getElementById('result').style.display = 'block';
                document.getElementById('prediction').innerHTML = 
                    `–ü—Ä–æ–≥–Ω–æ–∑–æ–≤–∞–Ω–∞ —Ü—ñ–Ω–∞: <strong>${predictedValue.toFixed(4)}</strong> (—Å–æ—Ç–Ω—ñ —Ç–∏—Å—è—á $)<br>` +
                    `–£ –¥–æ–ª–∞—Ä–∞—Ö: <strong>$${(predictedValue * 100000).toLocaleString()}</strong>`;
                
                status.className = 'status success';
                status.textContent = '‚úÖ –ü—Ä–æ–≥–Ω–æ–∑ —É—Å–ø—ñ—à–Ω–∏–π!';
                
                // –û—á–∏—â–∞—î–º–æ –ø–∞–º'—è—Ç—å
                inputTensor.dispose();
                prediction.dispose();
                
            } catch (error) {
                status.className = 'status error';
                status.textContent = '‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è: ' + error.message;
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
            }
        }
        
        // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –º–æ–¥–µ–ª—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
        loadModel();
    </script>
</body>
</html>